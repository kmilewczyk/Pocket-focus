"use strict";(self.webpackChunkpocket_focus=self.webpackChunkpocket_focus||[]).push([[276],{9276:(mi,pe,a)=>{a.r(pe),a.d(pe,{PomodoroModule:()=>hi});var m=a(9808),me=a(3099),l=a(1777),f=a(1941),fe=a(4004),ge=a(5698),h=a(1073),_e=a(2340),t=a(1223),ve=a(9520),yt=a(8891);let Ct=(()=>{class i{constructor(e){this.elementRef=e}onInput(){const e=this.elementRef.nativeElement;e.style.height="",e.style.height=e.scrollHeight+5+"px"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","appStretch",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(){return o.onInput()})}}),i})();var ye=a(5963),g=(()=>{return(i=g||(g={})).Normal="normal",i.Changing="changing",g;var i})(),_=(()=>{return(i=_||(_={})).Normal="normal",i.Selected="selected",_;var i})();const Vt=(0,l.X$)("componentTrigger",[(0,l.SB)(g.Normal,(0,l.oB)({height:"{{ elementSize }}rem"}),{params:{elementSize:5}}),(0,l.SB)(g.Changing,(0,l.oB)({height:"{{ componentSize }}rem",marginTop:"-{{ moveUp }}rem"}),{params:{componentSize:10,moveUp:2.5}}),(0,l.eR)(g.Normal+" <=> "+g.Changing,[(0,l.ru)([(0,l.IO)("@*",(0,l.pV)()),(0,l.jt)(200)])])]),bt=(0,l.X$)("valueTrigger",[(0,l.SB)(_.Selected,(0,l.oB)({fontSize:"{{ boldFontSize }}rem",fontWeight:"bolder"}),{params:{boldFontSize:2.5}}),(0,l.SB)(_.Normal,(0,l.oB)({fontSize:"{{ fontSize }}rem"}),{params:{fontSize:2}}),(0,l.eR)(_.Normal+" <=> "+_.Selected,[(0,l.jt)(200)])]),At=["valuesWrapper"],Mt=function(i,n){return{fontSize:i,boldFontSize:n}},Ce=function(i,n){return{value:i,params:n}};function St(i,n){if(1&i&&(t.TgZ(0,"li",11),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,r=t.oxw();t.Udp("height",r.elementSize+"rem")("line-height",r.elementSize+"rem"),t.Q6J("@valueTrigger",t.WLB(9,Ce,r.valueStates[o],t.WLB(6,Mt,r.fontSize,r.fontSize+.5))),t.xp6(1),t.hij(" ",e," ")}}const Tt=function(i,n,e){return{componentSize:i,fontSize:n,moveUp:e}};let wt=(()=>{class i{constructor(e){this.cdr=e,this.selectDelay=300,this.elementSize=5,this.fontSize=2.25,this.componentHeight=10,this.componentWidth=14,this.sliderClass="",this.selectedIndexChange=new t.vpe,this.valueStates=[],this.componentState=g.Normal,this.selectedIndexValue=1,this.labelsValue=["20:00","30:00","60:00","90:00","120:00","150:00","180:00"],this.viewInitialised=!1}get labels(){return this.labelsValue}set labels(e){this.labelsValue=e,this.onLabelsUpdate()}get selectedIndex(){return this.selectedIndexValue}set selectedIndex(e){this.selectedIndexValue=e,this.selectedIndexChange.emit(e),this.viewInitialised&&this.scheduleFocusElement()}get scrollDiv(){var e;return null===(e=this.valuesWrapper)||void 0===e?void 0:e.nativeElement}get userSelecting(){return void 0!==this.pointerLastPositionY}ngOnInit(){this.onLabelsUpdate()}ngAfterViewInit(){this.focusSelectedElement(),this.cdr.detectChanges(),this.viewInitialised=!0}ngOnDestroy(){var e;null===(e=this.timer)||void 0===e||e.unsubscribe()}moveOneDown(){this.selectedIndex+1<this.labelsValue.length&&(this.selectedIndex+=1,this.focusSelectedElement())}moveOneUp(){this.selectedIndex-1>=0&&(this.selectedIndex-=1,this.focusSelectedElement())}onWheel(e){this.scrollDiv.scrollBy(0,.1*e.deltaY),this.scheduleCaptureAndFocusElement()}onPointerDown(e){this.pointerLastPositionY=e.clientY,this.componentState=g.Changing,this.scheduleFocusElement()}onPointerMove(e){this.pointerLastPositionY&&(this.scrollDiv.scrollBy(0,this.pointerLastPositionY-e.clientY),this.pointerLastPositionY=e.clientY,this.scheduleCaptureAndFocusElement())}onPointerUp(e){this.pointerLastPositionY=void 0}focusSelectedElement(){var e;void 0!==this.previousSelectedElement&&(this.valueStates[this.previousSelectedElement]=_.Normal);const o=this.boundedIndex(this.selectedIndex),r=null===(e=this.scrollDiv.firstElementChild)||void 0===e?void 0:e.childNodes[o+1];this.valueStates[o]=_.Selected,this.previousSelectedElement=o,r.scrollIntoView({behavior:"smooth"}),this.setComponentStateToNormal()}boundedIndex(e){return Math.min(e,this.labels.length-1)}converPixelsToRem(e){return e/parseFloat(getComputedStyle(document.documentElement).fontSize)}scheduleCaptureAndFocusElement(){var e;null===(e=this.timer)||void 0===e||e.unsubscribe(),this.timer=(0,ye.H)(this.selectDelay).subscribe(()=>{const o=this.converPixelsToRem(this.scrollDiv.scrollTop)+this.componentHeight/2,r=Math.floor(o/this.elementSize)-1;this.selectedIndex=r,this.scheduleFocusElement()})}scheduleFocusElement(){var e;null===(e=this.timer)||void 0===e||e.unsubscribe(),this.timer=(0,ye.H)(this.selectDelay).subscribe(()=>this.focusSelectedElement())}onLabelsUpdate(){var e,o;this.valueStates=null===(o=Array(null===(e=this.labels)||void 0===e?void 0:e.length))||void 0===o?void 0:o.fill(_.Normal),this.scheduleFocusElement()}setComponentStateToNormal(){this.pointerLastPositionY=void 0,this.componentState=g.Normal}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-slidable-select"]],viewQuery:function(e,o){if(1&e&&t.Gf(At,5),2&e){let r;t.iGM(r=t.CRH())&&(o.valuesWrapper=r.first)}},inputs:{elementSize:"elementSize",fontSize:"fontSize",componentHeight:"componentHeight",componentWidth:"componentWidth",sliderClass:"sliderClass",labels:"labels",selectedIndex:"selectedIndex"},outputs:{selectedIndexChange:"selectedIndexChange"},decls:13,vars:22,consts:[[1,"row","justify-content-center"],[2,"position","absolute","top","0",3,"pointerup","pointermove"],[1,"row","justify-content-center","rounded-2",2,"position","relative"],[1,"touch-area","d-flex","align-items-center"],[1,"w-100","border","border-3",2,"clip-path","polygon(0% 0%, 0% 100%, 25% 100%, 25% 0%)"],[1,"w-100","border","border-3",2,"clip-path","polygon(100% 100%, 100% 0%, 75% 0%, 75% 100%)"],[2,"height","100%","overflow","hidden",3,"classList"],["valuesWrapper",""],[2,"list-style-type","none"],["class","h1","class","text-center",3,"height","line-height",4,"ngFor","ngForOf"],[1,"touch-area",3,"wheel","pointerup","pointerdown","pointermove"],[1,"text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.NdJ("pointerup",function(s){return o.onPointerUp(s)})("pointermove",function(s){return o.onPointerMove(s)}),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"hr",4),t._UZ(5,"hr",5),t.qZA(),t.TgZ(6,"div",6,7),t.TgZ(8,"ul",8),t._UZ(9,"div"),t.YNc(10,St,2,12,"li",9),t._UZ(11,"div"),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.NdJ("wheel",function(s){return o.onWheel(s)})("pointerup",function(s){return o.onPointerUp(s)})("pointerdown",function(s){return o.onPointerDown(s)})("pointermove",function(s){return o.onPointerMove(s)}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Udp("height",o.userSelecting?"100vh":o.componentHeight+"rem")("width",o.componentWidth+"rem"),t.xp6(1),t.Udp("width",o.componentWidth+"rem")("height",o.componentHeight+"rem"),t.Q6J("@componentTrigger",t.WLB(19,Ce,o.componentState,t.kEZ(15,Tt,o.componentHeight,o.fontSize,(o.componentHeight-o.elementSize)/2))),t.xp6(4),t.Q6J("classList","row justify-content-center "+o.sliderClass),t.xp6(3),t.Udp("height",o.elementSize+"rem"),t.xp6(1),t.Q6J("ngForOf",o.labels),t.xp6(1),t.Udp("height",o.elementSize+"rem"))},directives:[m.sg],styles:[".touch-area[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;height:100%;position:absolute;top:0;touch-action:none}"],data:{animation:[Vt,bt]}}),i})();function Et(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"button",5),t.NdJ("click",function(){return t.CHM(e),t.MAs(4).moveOneUp()}),t._UZ(2,"i",6),t.qZA(),t.TgZ(3,"app-slidable-select",7,8),t.NdJ("selectedIndexChange",function(r){return t.CHM(e),t.oxw().selection=r}),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return t.CHM(e),t.MAs(4).moveOneDown()}),t._UZ(6,"i",9),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("componentWidth",18)("labels",e.valueOptionsLabels)("selectedIndex",e.selection)}}function Dt(i,n){if(1&i&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.timeBreakMinutes," minute break ")}}function Ot(i,n){1&i&&(t.TgZ(0,"span",18),t.TgZ(1,"p",19),t._uU(2," 1 minute break per 5 minutes of focus. "),t.qZA(),t.TgZ(3,"p",20),t._uU(4," 5 minutes minimum. "),t.qZA(),t.qZA())}function xt(i,n){if(1&i&&(t.TgZ(0,"p",14),t.YNc(1,Dt,2,1,"span",15),t.YNc(2,Ot,5,0,"ng-template",null,16,t.W1O),t.qZA()),2&i){const e=t.MAs(3),o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.timeBreakMinutes)("ngIfElse",e)}}function Nt(i,n){if(1&i&&(t.TgZ(0,"div",10),t.TgZ(1,"h1",11),t.TgZ(2,"span",12),t._uU(3),t.qZA(),t.qZA(),t.qZA(),t.YNc(4,xt,4,2,"p",13)),2&i){const e=t.oxw();t.xp6(3),t.lnq(" ",e.timeHours.toString().padStart(2,"0").concat(":").replace("00:",""),"",e.timeMinutes.toString().padStart(2,"0"),":",e.timeSeconds.toString().padStart(2,"0")," "),t.xp6(1),t.Q6J("ngIf",e.timerState!==e.TimerState.Break)}}const R=["30:00","1:00:00","1:30:00","2:00:00","2:30:00","3:00:00","3:30:00","4:00:00","4:30:00","5:00:00","5:30:00","6:00:00","6:30:00","7:00:00","7:30:00","8:00:00"],Ft=["1:00:00","2:00:00","3:00:00","4:00:00","5:00:00","6:00:00","7:00:00","8:00:00"];let kt=(()=>{class i{constructor(e){this.timerService=e,this.TimerState=h.v,this.editMode=!1,this.selectionValue=0,this.valueOptionsLabels=R,this.timeHours=0,this.timeMinutes=0,this.timeSeconds=0}get selection(){return this.selectionValue}set selection(e){this.selectionValue=e,this.onSelectionChange()}ngOnInit(){this.timerTypeSub=this.timerService.timerType$.subscribe(e=>{this.timerType=e,this.onTimerTypeChange()}),this.timerService.setTotalSessionTime(30),this.timer=this.timerService.timer$.subscribe(e=>{switch(this.timerState=e.state,this.timerState){case h.v.Dead:this.setTime(this.timerService.focusPeriod);break;case h.v.Paused:this.setTime(0);break;case h.v.Break:case h.v.Interruption:case h.v.Work:this.setTime(e.secondsLeft);break;default:throw new Error("Unhandled TimerState "+this.TimerState+" at timer.component")}})}ngOnDestroy(){var e,o;null===(e=this.timerTypeSub)||void 0===e||e.unsubscribe(),null===(o=this.timer)||void 0===o||o.unsubscribe()}onTimerTypeChange(){switch(this.timerType){case f.Z.Pomodoro:this.valueOptionsLabels=R,this.selection=0,this.timeBreakMinutes=5;break;case f.Z.Hour:this.valueOptionsLabels=Ft,this.selection=0,this.timeBreakMinutes=10;break;case f.Z.Indefinite:this.valueOptionsLabels=R,this.selection=0,this.timeBreakMinutes=void 0;break;default:throw new Error("Not implemented")}this.setTime(this.timerService.focusPeriod)}onSelectionChange(){switch(this.timerType){case f.Z.Indefinite:case f.Z.Pomodoro:this.timerService.setTotalSessionTime(30*(this.selection+1));break;case f.Z.Hour:this.timerService.setTotalSessionTime(60*(this.selection+1))}this.setTime(this.timerService.focusPeriod)}setTime(e){this.timeHours=Math.floor(e/3600),this.timeMinutes=Math.floor(e/60)-60*this.timeHours,this.timeSeconds=e-60*this.timeMinutes-3600*this.timeHours}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ve.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-timer"]],inputs:{editMode:"editMode"},decls:5,vars:2,consts:[[1,"mb-4"],[1,"text-center"],["class","d-flex align-items-center justify-content-center flex-wrap flex-sm-nowrap",4,"ngIf","ngIfElse"],["normalView",""],[1,"d-flex","align-items-center","justify-content-center","flex-wrap","flex-sm-nowrap"],[1,"w-100","w-sm-25","btn","btn-outline-light","m-4",3,"click"],[1,"bi","bi-dash-circle","display-5"],["sliderClass","bg-dark",3,"componentWidth","labels","selectedIndex","selectedIndexChange"],["select",""],[1,"bi","bi-plus-circle","display-5"],[1,"d-flex","justify-content-center"],[1,"display-1","mx-sm-2"],[1,"time-display"],["class","text-muted",4,"ngIf"],[1,"text-muted"],["style","font-size: calc(1rem + 1vw)",4,"ngIf","ngIfElse"],["timeBreakInfo",""],[2,"font-size","calc(1rem + 1vw)"],[2,"font-size","calc(1rem + 0.5vw)"],[1,"mb-0"],[1,"mt-0"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Et,7,3,"div",2),t.YNc(3,Nt,5,4,"ng-template",null,3,t.W1O),t.qZA(),t.qZA()),2&e){const r=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.editMode)("ngIfElse",r)}},directives:[m.O5,wt],styles:[".time-display[_ngcontent-%COMP%]{font-size:calc(3rem + 5vw)}"]}),i})();var It=a(2076),Pt=a(8306),Zt=a(4742),Gt=a(8421),Bt=a(3269),Ut=a(5403),qt=a(3268),Rt=a(1810);let Ve=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i}),i})(),b=(()=>{class i extends Ve{}return i.\u0275fac=function(){let n;return function(o){return(n||(n=t.n5z(i)))(o||i)}}(),i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})();const v=new t.OlP("NgValueAccessor"),jt={provide:v,useExisting:(0,t.Gpc)(()=>H),multi:!0};let H=(()=>{class i extends b{writeValue(e){this.setProperty("checked",e)}}return i.\u0275fac=function(){let n;return function(o){return(n||(n=t.n5z(i)))(o||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[t._Bn([jt]),t.qOj]}),i})();const Lt={provide:v,useExisting:(0,t.Gpc)(()=>j),multi:!0},zt=new t.OlP("CompositionEventMode");let j=(()=>{class i extends Ve{constructor(e,o,r){super(e,o),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(zt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[t._Bn([Lt]),t.qOj]}),i})();const c=new t.OlP("NgValidators"),C=new t.OlP("NgAsyncValidators");function xe(i){return null!=i}function Ne(i){const n=(0,t.QGY)(i)?(0,It.D)(i):i;return(0,t.CqO)(n),n}function Fe(i){let n={};return i.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function ke(i,n){return n.map(e=>e(i))}function Ie(i){return i.map(n=>function(i){return!i.validate}(n)?n:e=>n.validate(e))}function L(i){return null!=i?function(i){if(!i)return null;const n=i.filter(xe);return 0==n.length?null:function(e){return Fe(ke(e,n))}}(Ie(i)):null}function Y(i){return null!=i?function(i){if(!i)return null;const n=i.filter(xe);return 0==n.length?null:function(e){return function(...i){const n=(0,Bt.jO)(i),{args:e,keys:o}=(0,Zt.D)(i),r=new Pt.y(s=>{const{length:u}=e;if(!u)return void s.complete();const p=new Array(u);let A=u,S=u;for(let q=0;q<u;q++){let he=!1;(0,Gt.Xf)(e[q]).subscribe(new Ut.Q(s,pi=>{he||(he=!0,S--),p[q]=pi},()=>A--,void 0,()=>{(!A||!he)&&(S||s.next(o?(0,Rt.n)(o,p):p),s.complete())}))}});return n?r.pipe((0,qt.Z)(n)):r}(ke(e,n).map(Ne)).pipe((0,fe.U)(Fe))}}(Ie(i)):null}function Ge(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function z(i){return i?Array.isArray(i)?i:[i]:[]}function x(i,n){return Array.isArray(i)?i.includes(n):i===n}function qe(i,n){const e=z(n);return z(i).forEach(r=>{x(e,r)||e.push(r)}),e}function Re(i,n){return z(n).filter(e=>!x(i,e))}class He{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=L(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class V extends He{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class d extends He{get formDirective(){return null}get path(){return null}}let Le=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var e,o,r;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===r?void 0:r[n])}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(V,2))},i.\u0275dir=t.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[t.qOj]}),i})();function w(i,n){(function(i,n){const e=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(Ge(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(Ge(o,n.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const r=()=>i.updateValueAndValidity();I(n._rawValidators,r),I(n._rawAsyncValidators,r)})(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Ye(i,n)})}(i,n),function(i,n){const e=(o,r)=>{n.valueAccessor.writeValue(o),r&&n.viewToModelUpdate(o)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Ye(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function I(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Ye(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Z(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}const E="VALID",G="INVALID",M="PENDING",D="DISABLED";function K(i){return(te(i)?i.validators:i)||null}function Je(i){return Array.isArray(i)?L(i):i||null}function ee(i,n){return(te(n)?n.asyncValidators:i)||null}function $e(i){return Array.isArray(i)?Y(i):i||null}function te(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ne{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=Je(this._rawValidators),this._composedAsyncValidatorFn=$e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===E}get invalid(){return this.status===G}get pending(){return this.status==M}get disabled(){return this.status===D}get enabled(){return this.status!==D}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Je(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=$e(n)}addValidators(n){this.setValidators(qe(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(qe(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Re(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Re(n,this._rawAsyncValidators))}hasValidator(n){return x(this._rawValidators,n)}hasAsyncValidator(n){return x(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=M,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=D,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=E,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===E||this.status===M)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?D:E}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=M,this._hasOwnPendingAsyncValidator=!0;const e=Ne(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(i,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let o=i;return n.forEach(r=>{o=o instanceof ie?o.controls.hasOwnProperty(r)?o.controls[r]:null:o instanceof un&&o.at(r)||null}),o}(this,n)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?D:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(M)?M:this._anyControlsHaveStatus(G)?G:E}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){te(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class B extends ne{constructor(n=null,e,o){super(K(e),ee(o,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Z(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Z(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class ie extends ne{constructor(n,e,o){super(K(e),ee(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,r)=>{o.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e instanceof B?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,o)=>((e.enabled||this.disabled)&&(n[o]=e.value),n))}_reduceChildren(n,e){let o=n;return this._forEachChild((r,s)=>{o=e(o,r,s)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class un extends ne{constructor(n,e,o){super(K(e),ee(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,o={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((o,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((o,r)=>{this.at(r)&&this.at(r).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((o,r)=>{o.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof B?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,o)=>{n(e,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const hn={provide:V,useExisting:(0,t.Gpc)(()=>re)},Ke=(()=>Promise.resolve(null))();let re=(()=>{class i extends V{constructor(e,o,r,s){super(),this.control=new B,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=function(i,n){if(!n)return null;let e,o,r;return Array.isArray(n),n.forEach(s=>{s.constructor===j?e=s:function(i){return Object.getPrototypeOf(i.constructor)===b}(s)?o=s:r=s}),r||o||e||null}(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){w(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ke.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,r=""===o||o&&"false"!==o;Ke.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d,9),t.Y36(c,10),t.Y36(C,10),t.Y36(v,10))},i.\u0275dir=t.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([hn]),t.qOj,t.TTD]}),i})(),tt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),Zn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[tt]]}),i})(),Gn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Zn]}),i})();function Bn(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1," Enable daily goals to set daily time targets for yourself."),t.qZA())}function Un(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1," Enable daily schedule to set the time to start the work session. The app will notify you and autostart your timer at the beginning of the day. "),t.qZA())}let qn=(()=>{class i{constructor(){this.goalsEnabled=!1,this.scheduleEnabled=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-productivity"]],decls:12,vars:4,consts:[[1,"col-lg-8","bg-secondary","mx-auto","p-2"],[1,"form-check","form-switch","h5","mb-2"],["name","goalsEnabled","type","checkbox","role","switch","id","switchGoalFunctionality",1,"form-check-input",3,"ngModel","ngModelChange"],["for","switchGoalFunctionality",1,"form-check-label"],[4,"ngIf"],[1,"row"],[1,"form-check","form-switch","h5","mb-2","mt-2"],["name","scheduleEnabled","type","checkbox","role","switch","id","switchDailyScheduleFunctionality",1,"form-check-input",3,"ngModel","ngModelChange"],["for","switchDailyScheduleFunctionality",1,"form-check-label"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(s){return o.goalsEnabled=s}),t.qZA(),t.TgZ(3,"label",3),t._uU(4," Enable daily goals. "),t.qZA(),t.qZA(),t.YNc(5,Bn,2,0,"p",4),t._UZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"input",7),t.NdJ("ngModelChange",function(s){return o.scheduleEnabled=s}),t.qZA(),t.TgZ(9,"label",8),t._uU(10," Enable daily schedule. "),t.qZA(),t.qZA(),t.YNc(11,Un,2,0,"p",4),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngModel",o.goalsEnabled),t.xp6(3),t.Q6J("ngIf",!o.goalsEnabled),t.xp6(3),t.Q6J("ngModel",o.scheduleEnabled),t.xp6(3),t.Q6J("ngIf",!o.scheduleEnabled))},directives:[H,Le,re,m.O5],styles:[""]}),i})();function Rn(i,n){if(1&i&&(t.TgZ(0,"div",28),t._UZ(1,"app-productivity"),t.qZA()),2&i){const e=t.oxw();t.Q6J("@productivityVisible",e.goalsVisible)}}function Hn(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1," breaks included "),t.qZA())}function jn(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1," take a break only when you think you need one. "),t.qZA())}function Ln(i,n){if(1&i&&(t.TgZ(0,"div",29),t.TgZ(1,"h3"),t._uU(2," Pick session duration "),t.qZA(),t.YNc(3,Hn,2,0,"p",30),t.ALo(4,"async"),t.YNc(5,jn,2,0,"ng-template",null,31,t.W1O),t.qZA()),2&i){const e=t.MAs(6),o=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,o.timerType$)!==o.TimerType.Indefinite)("ngIfElse",e)}}function Yn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," Focus "),t.qZA())}function zn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," Break "),t.qZA())}function Wn(i,n){1&i&&(t.TgZ(0,"span"),t.TgZ(1,"span"),t._uU(2," Interruption "),t.qZA(),t.TgZ(3,"div",37),t._uU(4,' Click "continue" to resume focus session after the timer runs out. '),t.qZA(),t.qZA())}function Jn(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," Paused "),t.qZA())}function $n(i,n){if(1&i&&(t.TgZ(0,"div",34),t.TgZ(1,"h5",35),t._uU(2),t.qZA(),t.TgZ(3,"div",36),t.YNc(4,Yn,2,0,"span",25),t.YNc(5,zn,2,0,"span",25),t.YNc(6,Wn,5,0,"span",25),t.YNc(7,Jn,2,0,"span",25),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.minutesRemaining>1?e.minutesRemaining+" minutes remaining":"less than a minute left"," "),t.xp6(1),t.Q6J("ngSwitch",e.timerState),t.xp6(1),t.Q6J("ngSwitchCase",e.TimerState.Work),t.xp6(1),t.Q6J("ngSwitchCase",e.TimerState.Break),t.xp6(1),t.Q6J("ngSwitchCase",e.TimerState.Interruption),t.xp6(1),t.Q6J("ngSwitchCase",e.TimerState.Paused)}}function Qn(i,n){if(1&i&&(t.TgZ(0,"div",29),t.TgZ(1,"h3"),t._uU(2,"Total time"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"async"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,e.totalTime$))}}function Xn(i,n){if(1&i&&(t.YNc(0,$n,8,6,"div",32),t.YNc(1,Qn,6,3,"ng-template",null,33,t.W1O)),2&i){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.timerActivated)("ngIfElse",e)}}function Kn(i,n){1&i&&(t.TgZ(0,"h5"),t._uU(1," pomodoro "),t.qZA())}function ei(i,n){1&i&&(t.TgZ(0,"h5"),t._uU(1," hour "),t.qZA())}function ti(i,n){1&i&&(t.TgZ(0,"h5"),t._uU(1," indefinite "),t.qZA())}function ni(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().onTimerTypeSwitch()}),t.YNc(1,Kn,2,0,"h5",39),t.ALo(2,"async"),t.YNc(3,ei,2,0,"h5",39),t.ALo(4,"async"),t.YNc(5,ti,2,0,"h5",39),t.ALo(6,"async"),t.qZA()}if(2&i){const e=t.oxw();t.ekj("disabled",!e.editMode),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,5,e.timerType$)===e.TimerType.Pomodoro),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,7,e.timerType$)===e.TimerType.Hour),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,e.timerType$)===e.TimerType.Indefinite)}}function ii(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," continue "),t.qZA())}function oi(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," pause "),t.qZA())}function ri(i,n){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,ii,2,0,"span",30),t.ALo(2,"async"),t.YNc(3,oi,2,0,"ng-template",null,40,t.W1O),t.qZA()),2&i){const e=t.MAs(4),o=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.pauseAfterInterruption$))("ngIfElse",e)}}function si(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," resume "),t.qZA())}function ai(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," interrupt "),t.qZA())}function li(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDebug()}),t._uU(2," DEBUG "),t.qZA(),t.qZA()}}const ui=[{path:"",component:(()=>{class i{constructor(e){this.timerService=e,this.production=_e.N.production,this.TimerType=f.Z,this.TimerState=h.v,this.goalsVisible=!1,this.timerActivated=!1,this.editMode=!1,this.minutesRemaining=0}get timerState(){return this.timerStateValue}set timerState(e){this.timerStateValue=e,this.timerActivated=e!==h.v.Dead}get totalTime$(){return this.timerService.totalSessionTime$.pipe((0,fe.U)(e=>{const o=Math.floor(e/60),r=e%60;return(o>0?o+(o>1?" hours":" hour"):"")+" "+(r>0?r+(r>1?" minutes":" minute"):"")}))}ngOnInit(){this.timerType$=this.timerService.timerType$,this.pauseAfterInterruption$=this.timerService.pauseAfterInterruption$,this.timerSub=this.timerService.timer$.subscribe(e=>{this.timerState=e.state,this.updateTimeRemaining()})}ngOnDestroy(){var e;null===(e=this.timerSub)||void 0===e||e.unsubscribe()}onTimerTypeSwitch(){var e;const o=[f.Z.Pomodoro,f.Z.Hour,f.Z.Indefinite];null===(e=this.timerType$)||void 0===e||e.pipe((0,ge.q)(1)).subscribe(r=>{const s=o[(o.indexOf(r)+1)%o.length];this.timerService.setTimerType(s)})}onClose(){this.timerService.stopTimer()}onEditSwitch(){this.editMode=!this.editMode}onStart(){this.timerService.startTimer()}onBreak(){this.timerService.requestBreak()}onInterrupt(){switch(this.timerState){case h.v.Work:case h.v.Break:this.timerService.requestInterruption();break;case h.v.Interruption:this.timerService.pauseAfterInterruption$.pipe((0,ge.q)(1)).subscribe(e=>{e?this.timerService.removePauseAfterInterruption():this.timerService.addPauseAfterInterruption()});break;case h.v.Paused:this.timerService.resumeTimer();break;default:throw new Error("Unhandled state onInterrupt "+this.timerState)}}onDebug(){_e.N.production||this.timerService.DEBUG_almostSwitch()}updateTimeRemaining(){this.minutesRemaining=Math.ceil(this.timerService.timeRemaining/60)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ve.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pomodoro"]],decls:34,vars:25,consts:[["role","button",1,"text-light","mx-2",3,"click"],["aria-label","Productivity",1,"bi","display-5"],["class","row",4,"ngIf"],[1,"row","mb-2"],[1,"col-md-7","mx-auto","p-3","bg-dark-at-xs","rounded","mt-2"],["appStretch","","rows","1","placeholder","Insert task title here.","wrap","soft",1,"task-title","display-6","w-100","rounded-3",2,"resize","none","overflow","hidden"],[1,"row","mb-sm-n6"],[1,"bg-dark-at-xs","pb-4","col-sm-10","col-lg-7","col-xl-6","mx-auto","d-flex"],[1,"btn",2,"z-index","2",3,"click"],[1,"bi","display-3"],[1,"w-100"],[1,"bi","bi-x-circle","display-3"],[1,"d-flex","justify-content-center","col-sm-10","col-lg-7","col-xl-6","mx-auto","bg-dark-at-xs"],[1,"flex-grow-1","pomodoro-timer","rounded-sm-circle","bg-dark","pb-4","pt-sm-5"],[1,"d-flex","flex-column","align-items-center","justify-content-center","h-100","p-2"],["class","text-center",4,"ngIf","ngIfElse"],["contextUpperLabel",""],[3,"editMode"],["style","min-width: 8rem","class","btn btn-outline-light",3,"disabled","click",4,"ngIf"],[1,"row","bg-dark-at-xs","py-3"],[1,"d-flex","justify-content-center","mx-auto"],[1,"btn","btn-primary","stop-button",3,"click"],[1,"btn","btn-lg","btn-primary","mx-1",3,"click"],[1,"bi","display-5"],[1,"btn","btn-primary","stop-button",3,"ngSwitch","click"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","row bg-dark-at-xs justify-content-center",4,"ngIf"],[1,"row"],[1,"text-center"],[4,"ngIf","ngIfElse"],["indfBreakLabel",""],["class","text-center h1 display-1",4,"ngIf","ngIfElse"],["totalTimeLabel",""],[1,"text-center","h1","display-1"],[2,"font-weight","normal","opacity","0.8"],[3,"ngSwitch"],[1,"h6","mt-1","text-muted"],[1,"btn","btn-outline-light",2,"min-width","8rem",3,"click"],[4,"ngIf"],["pauseAfterInterruptionLabel",""],[1,"row","bg-dark-at-xs","justify-content-center"],[1,"btn","btn-secondary","col-1",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"app-pomodoro-header"),t.TgZ(1,"a",0),t.NdJ("click",function(){return o.goalsVisible=!o.goalsVisible}),t._UZ(2,"i",1),t.qZA(),t.qZA(),t.YNc(3,Rn,2,1,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._UZ(6,"textarea",5),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"button",8),t.NdJ("click",function(){return o.onEditSwitch()}),t._UZ(10,"i",9),t.qZA(),t._UZ(11,"div",10),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClose()}),t._UZ(13,"i",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"div",12),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t.YNc(18,Ln,7,4,"div",15),t.YNc(19,Xn,3,2,"ng-template",null,16,t.W1O),t._UZ(21,"app-timer",17),t.YNc(22,ni,7,11,"button",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",19),t.TgZ(24,"div",20),t.TgZ(25,"button",21),t.NdJ("click",function(){return o.onBreak()}),t._uU(26," break "),t.qZA(),t.TgZ(27,"button",22),t.NdJ("click",function(){return o.onStart()}),t._UZ(28,"i",23),t.qZA(),t.TgZ(29,"button",24),t.NdJ("click",function(){return o.onInterrupt()}),t.YNc(30,ri,5,4,"span",25),t.YNc(31,si,2,0,"span",25),t.YNc(32,ai,2,0,"span",26),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,li,3,0,"div",27)),2&e){const r=t.MAs(20);t.xp6(2),t.Tol(o.goalsVisible?"bi-award-fill":"bi-award"),t.xp6(1),t.Q6J("ngIf",o.goalsVisible),t.xp6(6),t.ekj("disabled",o.timerActivated),t.xp6(1),t.Tol(o.editMode?"bi-pencil-fill":"bi-pencil"),t.xp6(2),t.ekj("disabled",!o.timerActivated),t.xp6(6),t.Q6J("ngIf",o.editMode)("ngIfElse",r),t.xp6(3),t.Q6J("editMode",o.editMode),t.xp6(1),t.Q6J("ngIf",o.timerType$),t.xp6(3),t.ekj("disabled",!o.timerActivated||o.editMode||o.timerState!==o.TimerState.Work),t.xp6(2),t.ekj("disabled",o.timerActivated||o.editMode),t.xp6(1),t.Tol(o.timerActivated?"bi-play-fill":"bi-play"),t.xp6(1),t.ekj("disabled",!o.timerActivated||o.editMode),t.Q6J("ngSwitch",o.timerState),t.xp6(1),t.Q6J("ngSwitchCase",o.TimerState.Interruption),t.xp6(1),t.Q6J("ngSwitchCase",o.TimerState.Paused),t.xp6(2),t.Q6J("ngIf",!o.production)}},directives:[yt.K,m.O5,Ct,kt,m.RF,m.n9,m.ED,qn],pipes:[m.Ov],styles:["@media screen and (min-width: 576px){.pomodoro-timer[_ngcontent-%COMP%]{aspect-ratio:1/1}}.task-title[_ngcontent-%COMP%]{background:transparent;color:#eee;text-align:center;border:0!important}.stop-button[_ngcontent-%COMP%]{width:50%;font-size:large}@media screen and (min-width: 576px){.stop-button[_ngcontent-%COMP%]{width:10rem;font-size:x-large}}@media screen and (max-width: 575px){.bg-dark-at-xs[_ngcontent-%COMP%]{background:#2a2a2a}}.disabled[_ngcontent-%COMP%]{opacity:.1}"],data:{animation:[(0,l.X$)("productivityVisible",[(0,l.SB)("in",(0,l.oB)({opacity:1})),(0,l.eR)("void => *",[(0,l.oB)({opacity:0,height:0,transform:"translateY(-10rem)"}),(0,l.jt)("0.5s")])])]}}),i})()}];let ci=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[me.Bz.forChild(ui)],me.Bz]}),i})();var di=a(4466);let hi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,ci,di.m,Gn]]}),i})()}}]);